<h1 id='main'>Extract form into partial</h1>
<p>Create file <code>app/views/posts/_form.html.erb</code></p>

<p>Add <pre><code> &lt;%= form_for @post do |f| %&gt;
   &lt;% if @post.errors.any? %&gt;
   &lt;div id=&quot;error_explanation&quot;&gt;
     &lt;h2&gt;&lt;%= pluralize(@post.errors.count, &quot;error&quot;) %&gt; prohibited
       this post from being saved:&lt;/h2&gt;
     &lt;ul&gt;
     &lt;% @post.errors.full_messages.each do |msg| %&gt;
       &lt;li&gt;&lt;%= msg %&gt;&lt;/li&gt;
     &lt;% end %&gt;
     &lt;/ul&gt;
   &lt;/div&gt;
   &lt;% end %&gt;
   &lt;p&gt;
     &lt;%= f.label :title %&gt;&lt;br&gt;
     &lt;%= f.text_field :title %&gt;
   &lt;/p&gt;
&nbsp;
   &lt;p&gt;
     &lt;%= f.label :text %&gt;&lt;br&gt;
     &lt;%= f.text_area :text %&gt;
   &lt;/p&gt;
&nbsp;
   &lt;p&gt;
     &lt;%= f.submit %&gt;
   &lt;/p&gt;
 &lt;% end %&gt;</code></pre></p>

<p>Update file <code>app/views/posts/edit.html.erb</code></p>

<p>Change <pre><code> &lt;h1&gt;Editing post&lt;/h1&gt;</code></pre></p>

<p>To <pre><code> &lt;h1&gt;Edit post&lt;/h1&gt;</code></pre></p>

<p>Remove <pre><code> &lt;%= form_for :post, url: post_path(@post.id), method: :patch do |f| %&gt;
   &lt;% if @post.errors.any? %&gt;
     &lt;div id=&quot;errorExplanation&quot;&gt;
       &lt;h2&gt;&lt;%= pluralize(@post.errors.count, &quot;error&quot;) %&gt; prohibited
         this post from being saved:&lt;/h2&gt;
       &lt;ul&gt;
       &lt;% @post.errors.full_messages.each do |msg| %&gt;
         &lt;li&gt;&lt;%= msg %&gt;&lt;/li&gt;
       &lt;% end %&gt;
       &lt;/ul&gt;
     &lt;/div&gt;
   &lt;% end %&gt;
   &lt;p&gt;
     &lt;%= f.label :title %&gt;&lt;br&gt;
     &lt;%= f.text_field :title %&gt;
   &lt;/p&gt;
&nbsp;
   &lt;p&gt;
     &lt;%= f.label :text %&gt;&lt;br&gt;
     &lt;%= f.text_area :text %&gt;
   &lt;/p&gt;
&nbsp;
   &lt;p&gt;
     &lt;%= f.submit %&gt;
   &lt;/p&gt;
 &lt;% end %&gt;</code></pre></p>

<p>Add <pre><code> &lt;%= render &#39;form&#39; %&gt;</code></pre></p>

<p>Becomes <pre><code> &lt;h1&gt;Edit post&lt;/h1&gt;
&nbsp;
 &lt;%= render &#39;form&#39; %&gt;
&nbsp;
 &lt;%= link_to &#39;Back&#39;, posts_path %&gt;
\ No newline at end of file
</code></pre></p>

<p>Update file <code>app/views/posts/new.html.erb</code></p>

<p>Change <pre><code> &lt;h1&gt;New Post&lt;/h1&gt;</code></pre></p>

<p>To <pre><code> &lt;h1&gt;New post&lt;/h1&gt;</code></pre></p>

<p>Remove <pre><code> &lt;%= form_for :post, url: posts_path do |f| %&gt;
   &lt;% if @post.errors.any? %&gt;
     &lt;div id=&quot;errorExplanation&quot;&gt;
       &lt;h2&gt;&lt;%= pluralize(@post.errors.count, &quot;error&quot;) %&gt; prohibited
         this post from being saved:&lt;/h2&gt;
       &lt;ul&gt;
       &lt;% @post.errors.full_messages.each do |msg| %&gt;
         &lt;li&gt;&lt;%= msg %&gt;&lt;/li&gt;
       &lt;% end %&gt;
       &lt;/ul&gt;
     &lt;/div&gt;
   &lt;% end %&gt;
   &lt;p&gt;
     &lt;%= f.label :title %&gt;&lt;br&gt;
     &lt;%= f.text_field :title %&gt;
   &lt;/p&gt;
&nbsp;
   &lt;p&gt;
     &lt;%= f.label :text %&gt;&lt;br&gt;
     &lt;%= f.text_area :text %&gt;
   &lt;/p&gt;
&nbsp;
   &lt;p&gt;
     &lt;%= f.submit %&gt;
   &lt;/p&gt;
 &lt;% end %&gt;</code></pre></p>

<p>Add <pre><code> &lt;%= render &#39;form&#39; %&gt;</code></pre></p>

<p>Becomes <pre><code> &lt;h1&gt;New post&lt;/h1&gt;
&nbsp;
 &lt;%= render &#39;form&#39; %&gt;
&nbsp;
 &lt;%= link_to &#39;Back&#39;, posts_path %&gt;
\ No newline at end of file
</code></pre></p>

<h3 id='additional_resources'>Additional Resources</h3>

<ul>
<li><a href='https://github.com/stevenhallen/rails_getting_started_bdd/commit/19f9dcff92083031234a98fa90ad70a1706803fe'>Changes in this step in <code>diff</code> format</a></li>
</ul>